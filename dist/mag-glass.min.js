/*! jQuery Mag Glass Plugin v0.0.4 | (c) 2014 Vazha Omanashvili */
!function(a){"use strict";var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$element=a(c),this.getImageSize(this.createLens)};b.DEFAULTS={lensPosition:{top:50,left:20},lensSize:{width:260,height:260},lensClass:"mag-glass",lensResetTimeout:700,lensResetSpeed:500},b.prototype.createLens=function(){this.$lens=a("<div/>",{"class":this.options.lensClass}).css({width:this.options.lensSize.width,height:this.options.lensSize.height,display:"none",position:"absolute",backgroundImage:"url("+this.$element.attr("src")+")"}).appendTo("body"),this.resetLensPosition(),this.handleEvents()},b.prototype.getImageSize=function(b){var c=this;a("<img />").attr("src",this.$element.attr("src")).on("load",function(){c.aspectRatio={width:this.width/c.$element.width(),height:this.height/c.$element.height()},b.call(c)})},b.prototype.handleEvents=function(){this.$lens.mousemove(a.proxy(this.setLensPosition,this)),this.$element.mousemove(a.proxy(this.setLensPosition,this))},b.prototype.resetLensPosition=function(a){this.setLensPosition(null,this.$element.offset().left+this.options.lensPosition.left,this.$element.offset().top+this.options.lensPosition.top,a)},b.prototype.setLensPosition=function(a,b,c,d){b=a?a.pageX:b,c=a?a.pageY:c;var e=parseInt(b-this.$element.offset().left),f=parseInt(c-this.$element.offset().top),g=this;if(clearTimeout(this.lensResetTimeout),0>e||0>f||e>this.$element.width()||f>this.$element.height())this.lensResetTimeout=setTimeout(function(){g.resetLensPosition(!0)},this.options.lensResetTimeout);else{var h={backgroundPositionX:-(e*this.aspectRatio.width-this.$lens.width()/2),backgroundPositionY:-(f*this.aspectRatio.height-this.$lens.height()/2),left:b-this.$lens.width()/2,top:c-this.$lens.height()/2};this.$lens.fadeIn(500),d?this.$lens.stop(!0,!0,!0).animate(h,this.options.lensResetSpeed):this.$lens.css(h)}},b.prototype.showLens=function(a){return a?this.$lens.fadeIn():this.$lens.hide()};var c=a.fn.magGlass;a.fn.magGlass=function(c,d){return this.each(function(){var e=a(this),f=e.data("magGlass"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("magGlass",f=new b(this,g)),"string"==typeof c&&f[c](d)})},a.fn.magGlass.Constructor=b,a.fn.magGlass.noConflict=function(){return a.fn.magGlass=c,this},a(window).on("resize",function(){a(":data(magGlass)").each(function(){var b=a(this).data("magGlass");b.resetLensPosition()})})}(jQuery);
//# sourceMappingURL=mag-glass.min.js.map